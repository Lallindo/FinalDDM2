<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:FinalDDM2.ViewModels"
             x:Class="FinalDDM2.Views.Registro"
             x:DataType="viewModels:RegistroViewModel"
             Title="Crie sua Conta">
    <ScrollView>
        <VerticalStackLayout Spacing="15" Padding="20">

            <Label 
                Text="Registro de Novo Usuário"
                FontSize="24"
                FontAttributes="Bold"
                HorizontalOptions="Center" />

            <!-- Nome Input -->
            <Border Padding="10" Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Nome Completo" />
                    <Entry Text="{Binding Nome, Mode=TwoWay}" Placeholder="Digite seu nome" />
                    <CollectionView ItemsSource="{Binding ErrosNome}">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding .}" TextColor="Red" FontSize="12" />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>

            <!-- Email Input -->
            <Border Padding="10" Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Email" />
                    <Entry Text="{Binding Email, Mode=TwoWay}" Placeholder="exemplo@email.com" Keyboard="Email" />
                    <CollectionView ItemsSource="{Binding ErrosEmail}">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding .}" TextColor="Red" FontSize="12" />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>

            <!-- Senha Input -->
            <Border Padding="10" Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Senha" />
                    <Entry Text="{Binding Senha, Mode=TwoWay}" IsPassword="True" Placeholder="Mínimo de 5 caracteres" />
                    <CollectionView ItemsSource="{Binding ErrosSenha}">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding .}" TextColor="Red" FontSize="12" />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>

            <!-- Data de Nascimento Input -->
            <Border Padding="10" Stroke="LightGray" StrokeThickness="1" StrokeShape="RoundRectangle 10,10,10,10">
                <VerticalStackLayout Spacing="5">
                    <Label Text="Data de Nascimento" />
                    <DatePicker Date="{Binding DataNascimento, Mode=TwoWay}" />
                    <CollectionView ItemsSource="{Binding ErrosDataNascimento}">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding .}" TextColor="Red" FontSize="12" />
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>

            <Button 
                Text="Cadastrar" 
                Command="{Binding FazerCadastroCommand}"
                HorizontalOptions="FillAndExpand"
                Margin="0,20,0,0" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>